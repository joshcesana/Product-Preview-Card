---
import { getImage } from "astro:assets"

const { mobileImageUrl, desktopImageUrl } = Astro.props

const mobileAvifImg = await getImage({
    src: mobileImageUrl,
    format: "avif",
    width: 343,
    height: 240,
})

const mobileJpegImg = await getImage({
    src: mobileImageUrl,
    format: "jpeg",
    width: 343,
    height: 240,
})

const desktopAvifImg = await getImage({
    src: desktopImageUrl,
    format: "avif",
    width: 300,
    height: 452,
})

const desktopJpegImg = await getImage({
    src: desktopImageUrl,
    format: "jpeg",
    width: 300,
    height: 452,
})
---

<picture class="h-full">
    <source media="(max-width: 767px)" srcset={mobileAvifImg.src} />
    <source media="(max-width: 767px)" srcset={mobileJpegImg.src} />
    <source media="(min-width: 768px)" srcset={desktopAvifImg.src} />
    <source media="(min-width: 768px)" srcset={desktopJpegImg.src} />
    <img src={desktopAvifImg.src} alt=" An image of a Gabrielle Essence Eau De Parfum bottle laying on a table next to some leaves." class="h-full w-full object-cover" />
</picture>
